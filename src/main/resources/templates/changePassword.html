<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/styles.css">
    <!-- CSS de Bootstrap -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" rel="stylesheet">
    <!-- JS, Popper.js y jQuery de Bootstrap -->
    <link rel="icon" href="/images/favicon.ico">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.bundle.min.js"></script>
    <title>Cambio de contrase침a para el usuario</title>
</head>

<body>
    <div id="contenidoPagina">
        <div class="menu">
            <a href="#" class="enlace-ayuda" onclick="toggleNav()">Ayuda</a>游녤游낖
        </div>
        <div id="guiaUsuario" class="guia-lateral">
            <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">칑</a>
            <h3>Cambio de contrase침a de un usuario</h3>
            <p>En esta p치gina puedes cambiar la contrase침a de tu usuario.</p>
            <p>Solo es posible acceder a esta p치gina si has solicitado a un administrador el restablecimiento de tu
                contrase침a. Para ello, debes haber seguido las instrucciones que se te han mostrado previamente: debes
                escribir un email a un administrador desde tu correo registrado en BugOps, solicitando el
                restablecimiento de tu contrase침a e indicando un n칰mero de tel칠fono al que pueda llamarte.
            Cuando el administrador contacte contigo y compruebe tus datos, activar치 el restablecimiento de contrase침a para tu usuario y podr치s acceder a esta pantalla.</p>
            <p>Para cambiar la contrase침a de tu usuario, introduce tu nueva contrase침a y conf칤rmala.</p>
            <p>Una vez introducidos los datos, pulsa el bot칩n "Cambiar contrase침a" y tu contrase침a se actualizar치.</p>
            <p>Si deseas cancelar el cambio de contrase침a, pulsa el bot칩n "Cancelar".</p>

        </div>
        <img src="/images/BugOpsLogoTransparentFinal.png" alt="Logo" class="logo">
        <div class="body-boxed">
            <h1 th:text="'Cambio de contrase침a del usuario '+${username}"></h1>
            <form action="/changePassword" method="post" class="formulario bg-light">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                <input type="hidden" id="username" name="username" th:value="${username}">
                <div class="form-group">
                    <label for="password">Nueva contrase침a:</label>
                    <input type="password" class="form-control" id="password" name="password" required>
                </div>
                <div class="form-group">
                    <label for="confirmPassword">Confirma tu nueva contrase침a:</label>
                    <input type="password" class="form-control" id="confirmPassword" name="confirmPassword" required>
                </div>
                <button type="submit" class="btn btn-outline-dark">Cambiar contrase침a</button>
                <a href="/" class="btn btn-outline-dark">Cancelar</a>
            </form>
            <p th:if="${error}" th:text="${error}" class="error"></p>
        </div>

        <script>
            function toggleNav() {
                let guiaUsuario = document.getElementById("guiaUsuario");
                if (guiaUsuario.style.width === "375px") {
                    guiaUsuario.style.width = "0";
                    document.getElementById("contenidoPagina").style.marginRight = "0";
                } else {
                    guiaUsuario.style.width = "375px";
                    document.getElementById("contenidoPagina").style.marginRight = "375px";
                }
            }

            function closeNav() {
                document.getElementById("guiaUsuario").style.width = "0";
                document.getElementById("contenidoPagina").style.marginRight = "0";
            }

            document.getElementById('guiaUsuario').addEventListener('wheel', function (e) {
                e.preventDefault();
                this.scrollTop += e.deltaY;
            });
        </script>
    </div>
</body>

</html>